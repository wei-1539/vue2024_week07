import{T as h}from"./ToastMessage-EwJv6eG3.js";import{_ as g,m as f,r as l,o as v,c as w,b as c,w as b,a as s,g as x,h as u,v as p,F as L,p as V,i as T}from"./index-_xMUitMs.js";import{a as M,u as S}from"./axios-U3vUtiKk.js";var E={VITE_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"wei_rio",BASE_URL:"/vue2024_week07/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:y}=E,I={components:{ToastMessages:h},data(){return{isLoading:!1,user:{}}},methods:{...f(S,["pushMessage"]),login(){const t=`${y}admin/signin`;this.isLoading=!0,M.post(t,this.user).then(e=>{const{token:n,expired:r}=e.data;document.cookie=`hexSchool = ${n};expires = ${new Date(r)}; path=/`,this.isLoading=!1,this.$router.push("/admin/product")}).catch(e=>{this.isLoading=!1,this.pushMessage({style:"danger",title:"登入失敗",content:e.response.data.message})})}}},o=t=>(V("data-v-c2371339"),t=t(),T(),t),k=o(()=>s("div",{class:"loadingio-spinner-double-ring-0ut21surusy"},[s("div",{class:"ldio-2uwwzn0tw8t"},[s("div"),s("div"),s("div",null,[s("div")]),s("div",null,[s("div")])])],-1)),D=o(()=>s("div",{class:"bg"},null,-1)),R={class:"container m-sm-0 p-sm-0 position-absolute top-50 start-50 translate-middle text-center"},U={class:"row justify-content-center"},B=o(()=>s("h1",{class:"h2 mb-3 font-weight-normal text-light"},"後台登入",-1)),P={class:"col-md-4 col-10"},A={class:"form-floating mb-3"},q=o(()=>s("label",{for:"username"},"Email address",-1)),z={class:"form-floating"},C=o(()=>s("label",{for:"password"},"Password",-1)),F=o(()=>s("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"submit"}," 登入 ",-1)),N=o(()=>s("p",{class:"mt-5 mb-3 text-light"},"© 2021~∞ - 六角學院",-1));function O(t,e,n,r,a,d){const m=l("VueLoading"),_=l("ToastMessages");return v(),w(L,null,[c(m,{active:a.isLoading,"z-index":1060},{default:b(()=>[k]),_:1},8,["active"]),c(_),D,s("div",R,[s("div",U,[B,s("div",P,[s("form",{id:"form",class:"form-signin",onSubmit:e[2]||(e[2]=x((...i)=>d.login&&d.login(...i),["prevent"]))},[s("div",A,[u(s("input",{type:"email",class:"form-control",id:"username","onUpdate:modelValue":e[0]||(e[0]=i=>a.user.username=i),placeholder:"name@example.com",required:"",autofocus:""},null,512),[[p,a.user.username]]),q]),s("div",z,[u(s("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":e[1]||(e[1]=i=>a.user.password=i),placeholder:"Password",required:""},null,512),[[p,a.user.password]]),C]),F],32)])]),N])],64)}const G=g(I,[["render",O],["__scopeId","data-v-c2371339"]]);export{G as default};
